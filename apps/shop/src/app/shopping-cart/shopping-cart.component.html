<mat-card *ngIf="useAsync===false">
  <mat-card-header>
    <mat-card-title>Shoppping Cart</mat-card-title>
  </mat-card-header>
  <mat-card-content *ngIf="shoppingCart && products">
    <angular-business-item-picker [products]="products"
                                  (itemPicked)="addToCart($event)"></angular-business-item-picker>
    <angular-business-items-list [shoppingCartItems]="shoppingCart.items"
                                 (remove)="removeFromCart($event)"></angular-business-items-list>
  </mat-card-content>
  <mat-card-footer>
    <angular-business-total-units [totalUnits]="totalUnits"></angular-business-total-units>
    <mat-card-actions>
      <span class="row">
        <button (click)="postShoppingCart(shoppingCart)"
                mat-raised-button
                color="primary"
                class="col"
                type="button">Save</button>
      </span>
    </mat-card-actions>
  </mat-card-footer>
</mat-card>
<mat-card *ngIf="useAsync">
  <mat-card-header>
    <mat-card-title>Shoppping Cart</mat-card-title>
  </mat-card-header>
  <mat-card-content *ngIf="(shoppingCart$ | async ) as shoppingCart">
    <span *ngIf="(products$ | async ) as products">
      <angular-business-item-picker [products]="products"
                                    (itemPicked)="addToCart($event)"></angular-business-item-picker>
      <angular-business-items-list [shoppingCartItems]="shoppingCart.items"
                                   (remove)="removeFromCart($event)"></angular-business-items-list>
    </span>
  </mat-card-content>
  <mat-card-footer>
    <angular-business-total-units [totalUnits]="totalUnits"></angular-business-total-units>
    <mat-card-actions>
      <span class="row">
        <button (click)="postShoppingCart(shoppingCart)"
                mat-raised-button
                color="primary"
                class="col"
                type="button">Save</button>
      </span>
    </mat-card-actions>
  </mat-card-footer>
</mat-card>
<pre class="row">{{ shoppingCart | json }}</pre>
